<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novedades - GanderSync</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css">

    <link rel="stylesheet" th:href="@{/css/CSSNovedades.css}" href="CSSNovedades.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap">
</head>

<body id="body">

    <header class="barra-navegacion">
        <div class="header-content">
            <h1 class="logo">GanderSync</h1>

            <nav class="menu" role="navigation" aria-label="Men√∫ principal">
                
                <div class="menu-links-container">
                    <a th:href="@{/inicio}" tabindex="0">Inicio</a> 
                    <a th:href="@{/productos}" tabindex="0">Productos</a>
                    <a th:href="@{/novedades}" class="active" tabindex="0" aria-current="page">Novedades</a>
                    <a th:href="@{/ofertas}" tabindex="0">Ofertas</a>
                    <a th:href="@{/historia}" tabindex="0">Historia</a>
                </div>
                
                <a href="#" class="logout-btn-mobile" tabindex="0">Cerrar Sesi√≥n</a>

                
            </nav>

            <div class="header-actions">
                <a href="#" class="logout-btn" tabindex="0">Cerrar Sesi√≥n</a>
                
                <a th:href="@{/productos}" class="cart-nav-btn" tabindex="0" aria-label="Ver carrito de compras">üõí</a>
                
                <button class="menu-toggle" aria-controls="menu-mobile-list" aria-expanded="false" aria-label="Abrir men√∫ de navegaci√≥n">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <section class="contenedor-calendario">
            <h2 class="titulo">Calendario de Novedades</h2>

            <div id="calendar" aria-label="Calendario de eventos"></div>

            <div class="formulario-evento">
                <h3>Agregar Evento</h3>

                <form id="eventForm">
                    <label for="title">T√≠tulo:</label>
                    <input type="text" id="title" required tabindex="0">

                    <label for="start">Fecha inicio:</label>
                    <input type="date" id="start" required tabindex="0">

                    <label for="end">Fecha fin (opcional):</label>
                    <input type="date" id="end" tabindex="0">

                    <button type="submit" class="btn-primary" tabindex="0">Guardar Evento</button>
                </form>
            </div>
        </section>

        <div class="modal" id="eventModal" role="dialog" aria-modal="true" aria-labelledby="modal-title" hidden>
            <div class="modal-content">
                <button class="close" tabindex="0" aria-label="Cerrar ventana">&times;</button>

                <h3 id="modal-title">Editar / Eliminar Evento</h3>

                <form id="editForm">
                    <label for="editTitle">T√≠tulo:</label>
                    <input type="text" id="editTitle" required tabindex="0">

                    <label for="editStart">Fecha inicio:</label>
                    <input type="date" id="editStart" required tabindex="0">

                    <label for="editEnd">Fecha fin:</label>
                    <input type="date" id="editEnd" tabindex="0">

                    <div class="modal-buttons">
                        <button type="submit" class="guardar btn-primary" tabindex="0">Guardar cambios</button>
                        <button type="button" id="deleteBtn" class="eliminar btn-danger" tabindex="0">Eliminar</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="alertModal" class="modal hidden" role="alertdialog" aria-modal="true" aria-labelledby="alertMessage" hidden>
            <div class="modal-content alert-modal">
                <p id="alertMessage"></p>
                <button id="alertCloseBtn" class="btn-action" tabindex="0">Aceptar</button>
            </div>
        </div>

        <div id="confirmModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirmMessage" hidden>
            <div class="modal-content confirm-modal">
                <p id="confirmMessage"></p>
                <div class="confirm-buttons">
                    <button id="confirmOkBtn" class="btn-primary" tabindex="0">Aceptar</button>
                    <button id="confirmCancelBtn" class="btn-secondary" tabindex="0">Cancelar</button>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>üìß Email: soportegandersync@gmail.com | ‚òéÔ∏è Tel: +57 322 8159958</p>
        <p><strong>Marketplace GanderSync</strong> ¬© 2025 | Todos los derechos reservados</p>
    </footer>

    <div id="accessibility-container" class="accessibility-container">
        <button id="floatingAccessibilityBtn" class="floating-accessibility-btn" tabindex="0" aria-controls="accessibility-menu" aria-expanded="false" aria-label="Abrir opciones de accesibilidad (Arrastrar para mover)" title="Opciones de Accesibilidad (Arrastrar para mover)">
            ‚ôø
        </button>

        <nav id="accessibility-menu" role="menubar" aria-hidden="true" hidden>
            <button id="toggleContrastBtn" class="btn-action" role="menuitem" tabindex="0" aria-live="polite" title="Alternar Alto Contraste" data-icon="üé®">Alto Contraste</button>
            
            <div class="zoom-controls"> 
                <button id="increaseTextBtn" class="btn-action" role="menuitem" tabindex="0" title="Aumentar Tama√±o de Fuente" data-icon="üîç+">Aumentar Fuente</button>
                <button id="decreaseTextBtn" class="btn-action" role="menuitem" tabindex="0" title="Disminuir Tama√±o de Fuente" data-icon="üîç-">Disminuir Fuente</button>
            </div>
            
            <button id="resetTextBtn" class="btn-action" role="menuitem" tabindex="0" title="Restablecer Tama√±o de Fuente" data-icon="üîÑ">Restablecer Fuente</button>
        </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyA4URRzvmN3OYMnM3jaGk1vdzFgGpENWvA",
            authDomain: "gandersync.firebaseapp.com",
            databaseURL: "https://gandersync-default-rtdb.firebaseio.com/",
            projectId: "gandersync",
            storageBucket: "gandersync.appspot.com",
            messagingSenderId: "744744999999",
            appId: "1:744744999999:web:12345abcde6789",
            measurementId: "G-XYZ1234ABC"
        };
        firebase.initializeApp(firebaseConfig);
        
        // Variables globales necesarias para JSNovedades.js
        const db = firebase.database();
        const eventsRef = db.ref('novedades/eventos'); // Referencia al nodo de eventos
    </script>
    
    <script th:src="@{/js/JSNovedades.js}" src="JSNovedades.js"></script>
</body>
</html>